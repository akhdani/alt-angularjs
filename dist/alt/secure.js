alt.loader.secure=function(){return"undefined"!=typeof alt.modules.secure?alt.modules.secure:(alt.modules.secure=angular.module("alt-secure",[]).config(["$provide","$httpProvider",function(e,t){e.factory("secureRequestHttpInterceptor",["$log","$q","$window","$crypto",function(e,t,r,n){return{request:function(e){return e.data&&"production"==alt.environment&&"POST"==e.method&&0===e.url.indexOf(alt.serverUrl)&&"application/x-www-form-urlencoded"==e.headers["Content-Type"]&&-1==e.url.indexOf("auth/secure")&&"undefined"!=typeof alt.secure&&"undefined"!=typeof alt.secure.key&&"undefined"!=typeof alt.secure.iv&&(e.data=n.encrypt(e.data,alt.secure.key,alt.secure.iv)),e}}}]),t.interceptors.push("secureRequestHttpInterceptor"),e.factory("secureResponseHttpInterceptor",["$log","$q","$crypto",function(e,t,r){var n={response:function(e){if("production"==alt.environment&&"POST"==e.config.method&&0===e.config.url.indexOf(alt.serverUrl)&&"application/x-www-form-urlencoded"==e.config.headers["Content-Type"]&&-1==e.config.url.indexOf("auth/secure")&&"undefined"!=typeof alt.secure&&"undefined"!=typeof alt.secure.key&&"undefined"!=typeof alt.secure.iv){var n=r.decrypt(e.data,alt.secure.key,alt.secure.iv);try{var u=angular.fromJson(n);"undefined"==typeof u.s||"undefined"==typeof u.m&&"undefined"==typeof u.d?e.data=u:(e.status=u.s,e.message=u.m,e.data=u.d)}catch(o){e.data=n}if(200!=e.status)return e.message=e.data||e.message,t.reject(e)}return e},responseError:function(e){var r=n.response(e);return 200!=e.status?t.reject(r):r}};return n}]),t.interceptors.splice(1,0,"secureResponseHttpInterceptor")}]),void alt.module("alt-secure",alt.modules.secure))},"undefined"!=typeof define?define([],function(){alt.loader.secure()}):alt.loader.secure();